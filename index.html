<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🩺 Saviour Blood Donation App</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>🩺 Saviour Blood Donation App</h1>
            <p class="subtitle">Connecting donors with those in need</p>
        </header>

        <nav class="main-nav">
            <button class="nav-btn active" onclick="showSection('home')">🏠 Home</button>
            <button class="nav-btn" onclick="showSection('donor')">🩸 Donor</button>
            <button class="nav-btn" onclick="showSection('receiver')">🏥 Receiver</button>
            <button class="nav-btn" onclick="showSection('requests')">📋 Requests</button>
        </nav>

        <!-- Home Section -->
        <section id="home" class="section active">
            <div class="hero">
                <h2>Welcome to Blood Donation Platform</h2>
                <p>Every drop counts. Your donation can save up to three lives.</p>
                <div class="stats">
                    <div class="stat-item">
                        <span class="stat-number" id="totalDonors">0</span>
                        <span class="stat-label">Registered Donors</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="totalRequests">0</span>
                        <span class="stat-label">Active Requests</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-number" id="totalDonations">0</span>
                        <span class="stat-label">Lives Saved</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Donor Section -->
        <section id="donor" class="section">
            <div class="section-nav">
                <button class="section-btn active" onclick="showSubSection('donor', 'register')">📝 Register</button>
                <button class="section-btn" onclick="showSubSection('donor', 'profile')">👤 My Profile</button>
                <button class="section-btn" onclick="showSubSection('donor', 'donate')">🩺 Donate</button>
            </div>

            <!-- Donor Registration -->
            <div id="donor-register" class="sub-section active">
                <h3>📝 Register as Donor</h3>
                <form id="donorForm" class="form">
                    <div class="form-group">
                        <label for="donorName">👤 Name:</label>
                        <input type="text" id="donorName" required>
                    </div>
                    <div class="form-group">
                        <label for="donorEmail">📧 Email:</label>
                        <input type="email" id="donorEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="donorMobile">📱 Mobile:</label>
                        <input type="tel" id="donorMobile" required>
                    </div>
                    <div class="form-group">
                        <label for="donorBloodType">🩺 Blood Type:</label>
                        <select id="donorBloodType" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="donorLocation">📍 Location:</label>
                        <input type="text" id="donorLocation" required>
                    </div>
                    <div class="form-group">
                        <label for="donorGender">🚻 Gender:</label>
                        <select id="donorGender" required>
                            <option value="">Select Gender</option>
                            <option value="MALE">Male</option>
                            <option value="FEMALE">Female</option>
                            <option value="OTHER">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="lastDonated">📅 Last Donation Date (or 'NEVER'):</label>
                        <input type="date" id="lastDonated">
                        <small>Leave empty if you've never donated</small>
                    </div>
                    <button type="submit" class="submit-btn">🎉 Register Donor</button>
                </form>
            </div>

            <!-- Donor Profile -->
            <div id="donor-profile" class="sub-section">
                <h3>👤 Donor Profile</h3>
                <div class="profile-lookup">
                    <input type="text" id="donorIdLookup" placeholder="Enter your Donor ID">
                    <button onclick="loadDonorProfile()" class="lookup-btn">🔍 View Profile</button>
                </div>
                <div id="donorProfileData" class="profile-data"></div>
            </div>

            <!-- Donate Blood -->
            <div id="donor-donate" class="sub-section">
                <h3>🩺 Record Donation</h3>
                <div class="donation-form">
                    <input type="text" id="donorIdDonate" placeholder="Enter your Donor ID">
                    <input type="text" id="requestIdDonate" placeholder="Enter Request ID">
                    <button onclick="recordDonation()" class="donate-btn">❤️ Record Donation</button>
                </div>
                <div id="openRequests" class="requests-list"></div>
            </div>
        </section>

        <!-- Receiver Section -->
        <section id="receiver" class="section">
            <div class="section-nav">
                <button class="section-btn active" onclick="showSubSection('receiver', 'register')">📝 Register</button>
                <button class="section-btn" onclick="showSubSection('receiver', 'request')">📋 Post Request</button>
                <button class="section-btn" onclick="showSubSection('receiver', 'my-requests')">📜 My Requests</button>
            </div>

            <!-- Receiver Registration -->
            <div id="receiver-register" class="sub-section active">
                <h3>📝 Register as Receiver</h3>
                <form id="receiverForm" class="form">
                    <div class="form-group">
                        <label for="receiverName">👤 Name:</label>
                        <input type="text" id="receiverName" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverEmail">📧 Email:</label>
                        <input type="email" id="receiverEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverMobile">📱 Mobile:</label>
                        <input type="tel" id="receiverMobile" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverLocation">📍 Location:</label>
                        <input type="text" id="receiverLocation" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverGender">🚻 Gender:</label>
                        <select id="receiverGender" required>
                            <option value="">Select Gender</option>
                            <option value="MALE">Male</option>
                            <option value="FEMALE">Female</option>
                            <option value="OTHER">Other</option>
                        </select>
                    </div>
                    <button type="submit" class="submit-btn">🎉 Register Receiver</button>
                </form>
            </div>

            <!-- Post Blood Request -->
            <div id="receiver-request" class="sub-section">
                <h3>📋 Post Blood Request</h3>
                <form id="requestForm" class="form">
                    <div class="form-group">
                        <label for="requestUserId">👤 Your Receiver ID:</label>
                        <input type="text" id="requestUserId" required>
                    </div>
                    <div class="form-group">
                        <label for="requestBloodType">🩺 Blood Type Needed:</label>
                        <select id="requestBloodType" required>
                            <option value="">Select Blood Type</option>
                            <option value="A+">A+</option>
                            <option value="A-">A-</option>
                            <option value="B+">B+</option>
                            <option value="B-">B-</option>
                            <option value="AB+">AB+</option>
                            <option value="AB-">AB-</option>
                            <option value="O+">O+</option>
                            <option value="O-">O-</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="hospitalArea">🏥 Hospital Area:</label>
                        <input type="text" id="hospitalArea" required>
                    </div>
                    <div class="form-group">
                        <label for="unitsNeeded">🩺 Units Needed:</label>
                        <input type="number" id="unitsNeeded" min="1" max="10" required>
                    </div>
                    <div class="form-group">
                        <label for="seriousness">⚠️ Urgency Level:</label>
                        <select id="seriousness" required>
                            <option value="">Select Urgency</option>
                            <option value="LOW">Low</option>
                            <option value="MODERATE">Moderate</option>
                            <option value="HIGH">High</option>
                        </select>
                    </div>
                    <button type="submit" class="submit-btn">📢 Post Request</button>
                </form>
            </div>

            <!-- My Requests -->
            <div id="receiver-my-requests" class="sub-section">
                <h3>📜 My Blood Requests</h3>
                <div class="profile-lookup">
                    <input type="text" id="myRequestsUserId" placeholder="Enter your Receiver ID">
                    <button onclick="loadMyRequests()" class="lookup-btn">🔍 View My Requests</button>
                </div>
                <div id="myRequestsData" class="requests-list"></div>
            </div>
        </section>

        <!-- Requests Section -->
        <section id="requests" class="section">
            <h3>📋 All Open Blood Requests</h3>
            <button onclick="loadAllRequests()" class="refresh-btn">🔄 Refresh Requests</button>
            <div id="allRequests" class="requests-list"></div>
        </section>
    </div>

    <div id="notification" class="notification"></div>

    <script src="script.js"></script>
</body>
</html>
